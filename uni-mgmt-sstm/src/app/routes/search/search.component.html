<div class="flex h-screen bg-gray-100">
  <app-sidebar></app-sidebar>

  <div class="w-3xl mx-auto p-6 mt-10 bg-white rounded-xl shadow">
    <h2 class="text-2xl font-bold mb-6 text-center text-red-600">üîç Search Users</h2>

    <!-- Role Selector -->
    <div class="mb-4">
      <label class="block font-medium text-gray-700 mb-2">Select User Type</label>
      <select
        [(ngModel)]="selectedRole"
        class="w-full p-2 border border-gray-300 rounded"
      >
        <option value="student">Student</option>
        <option value="teacher">Teacher</option>
        <option value="faculty">Admin</option>
      </select>
    </div>

    <!-- Search Input -->
    <input
      [(ngModel)]="searchText"
      placeholder="Search by name or ID"
      class="w-full p-2 border border-gray-300 rounded mb-6"
    />

    <h3 class="text-xl font-semibold capitalize mb-3 text-blue-700">
      {{ selectedRole }}
    </h3>

    <div *ngIf="filteredUsers.length > 0; else noUsers">
      <ul class="mb-6">
        <li
          *ngFor="let user of filteredUsers"
          class="flex items-center justify-between border p-3 mb-2 rounded hover:bg-gray-50"
        >
          <div>
            <span class="font-medium">{{ user.USER_NAME }}</span>
            <span class="text-gray-500 text-sm ml-2">({{ formatUserId(user.USER_ID) }})</span>
          </div>
          <a
            [routerLink]="['/user-profile', user.id]"
            class="text-white bg-blue-600 hover:bg-blue-700 px-3 py-1 rounded text-sm"
          >
            View Profile
          </a>
        </li>
      </ul>
    </div>

    <ng-template #noUsers>
      <p class="text-gray-500 italic mb-4">No {{ selectedRole }}s found.</p>
    </ng-template>
  </div>
</div>
