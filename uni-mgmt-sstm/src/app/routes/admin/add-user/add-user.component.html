<div class="flex min-h-screen bg-gray-100">
  <app-sidebar></app-sidebar>

  <main class="flex-1 p-6 overflow-y-auto">
    <div class="max-w-4xl mx-auto bg-white shadow-xl rounded-2xl p-8">
      <!-- Go Back -->
      <button
        (click)="goBack()"
        class="mb-6 inline-flex items-center gap-2 px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition font-semibold"
      >
        â¬…ï¸ Go Back
      </button>

      <!-- Heading -->
      <h1 class="text-3xl font-bold text-center text-gray-800 mb-2">
        ğŸ“ University Management System
      </h1>
      <p class="text-center text-gray-600 text-lg mb-8">
        Enter the data of Students or Teachers
      </p>

      <!-- Form -->
      <form
        #addUserForm="ngForm"
        (ngSubmit)="addUser(addUserForm.value)"
        class="space-y-6"
      >
        <!-- User ID -->
        <div>
          <label class="block text-gray-700 font-medium mb-1" for="user_id">
            User ID
          </label>
          <input
            type="text"
            name="USER_ID"
            id="user_id"
            required
            ngModel
            #USER_ID="ngModel"
            placeholder="Enter user ID"
            class="w-full border border-gray-300 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-red-500"
          />
          <p
            *ngIf="USER_ID.invalid && USER_ID.touched"
            class="text-sm text-red-600 mt-1"
          >
            User ID is required.
          </p>
        </div>

        <!-- Username -->
        <div>
          <label class="block text-gray-700 font-medium mb-1" for="user_name">
            Username
          </label>
          <input
            type="text"
            name="USER_NAME"
            id="user_name"
            required
            minlength="3"
            ngModel
            #USER_NAME="ngModel"
            placeholder="Enter user name"
            class="w-full border border-gray-300 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-red-500"
          />
          <p
            *ngIf="USER_NAME.invalid && USER_NAME.touched"
            class="text-sm text-red-600 mt-1"
          >
            Username is required (min 3 chars).
          </p>
        </div>

        <!-- Email -->
        <div>
          <label class="block text-gray-700 font-medium mb-1" for="user_email">
            Email
          </label>
          <input
            type="email"
            name="USER_EMAIL"
            id="user_email"
            required
            ngModel
            #USER_EMAIL="ngModel"
            placeholder="Enter email address"
            class="w-full border border-gray-300 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-red-500"
          />
          <p
            *ngIf="USER_EMAIL.invalid && USER_EMAIL.touched"
            class="text-sm text-red-600 mt-1"
          >
            Valid email is required.
          </p>
        </div>

        <!-- Password -->
        <div>
          <label
            class="block text-gray-700 font-medium mb-1"
            for="user_password"
          >
            Password
          </label>
          <input
            type="password"
            name="USER_PASSWORD"
            id="user_password"
            required
            minlength="6"
            ngModel
            #USER_PASSWORD="ngModel"
            placeholder="Enter password"
            class="w-full border border-gray-300 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-red-500"
          />
          <p
            *ngIf="USER_PASSWORD.invalid && USER_PASSWORD.touched"
            class="text-sm text-red-600 mt-1"
          >
            Password must be at least 6 characters.
          </p>
        </div>

        <!-- User Type -->
        <div>
          <label class="block text-gray-700 font-medium mb-1" for="user_type">
            User Type
          </label>
          <select
            name="USER_TYPE"
            id="user_type"
            required
            ngModel
            #USER_TYPE="ngModel"
            class="w-full border border-gray-300 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-red-500"
          >
            <option value="" disabled selected>Choose user type</option>
            <option value="student">Student</option>
            <option value="teacher">Teacher</option>
          </select>
          <p
            *ngIf="USER_TYPE.invalid && USER_TYPE.touched"
            class="text-sm text-red-600 mt-1"
          >
            Please select a user type.
          </p>
        </div>

        <!-- Auth to Register Checkbox -->
        <!-- <div class="flex items-center space-x-3">
          <input
            type="checkbox"
            name="IS_AUTH_TO_REG"
            id="is_auth_to_reg"
            ngModel
            [disabled]="USER_TYPE.value === 'teacher'"
            class="w-5 h-5"
          />
          <label for="is_auth_to_reg" class="text-gray-700">
            Can register subjects?
          </label>
        </div> -->

        <!-- Courses -->
        <!-- <div>
          <label class="block text-gray-700 font-medium mb-2"
            >Select Courses</label
          >
          <div
            class="grid grid-cols-1 sm:grid-cols-2 gap-2 border border-gray-300 rounded-lg p-4"
          >
            <div *ngFor="let course of coursesList">
              <label class="inline-flex items-center space-x-2">
                <input
                  type="checkbox"
                  [value]="course.COURSE_NAME"
                  (change)="onCourseCheckboxChange($event)"
                  [checked]="selectedCourses.includes(course.COURSE_NAME)"
                  class="form-checkbox h-5 w-5 text-red-600"
                />
                <span class="text-gray-700">{{ course.COURSE_NAME }}</span>
              </label>
            </div>
          </div>

          <p
            *ngIf="selectedCourses.length === 0 && addUserForm.submitted"
            class="text-sm text-red-600 mt-2"
          >
            Please select at least one course.
          </p>
        </div> -->

        <!-- Submit -->
        <div class="text-center">
          <button
            type="submit"
            [disabled]="addUserForm.invalid"
            class="px-6 py-2 rounded-lg bg-red-600 hover:bg-red-700 text-white font-semibold transition disabled:opacity-50 disabled:cursor-not-allowed"
          >
            Submit
          </button>
        </div>
      </form>
    </div>
  </main>
</div>
